{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Pinia store for managing notes in a Vue.js application. It includes types, state variables, functions for CRUD operations, filtering, sorting, and persistence of notes using localStorage.", "external_files": ["pinia", "vue"], "external_methods": ["defineStore", "computed", "ref"], "published": ["useNotesStore"], "classes": [], "methods": [{"name": "loadFromStorage", "description": "Loads notes and preferences from localStorage, handling malformed data gracefully."}, {"name": "function createNote(): Note { createNote", "description": "Creates a new note with default values, adds it to the store, and persists the change.", "scope": "", "scopeKind": ""}, {"name": "function updateNote(id: string, payload: Partial<Pick<Note, 'title' | 'content' | 'tags'>>): v/ updateNote", "description": "Updates an existing note identified by id with provided fields and persists the change.", "scope": "", "scopeKind": ""}, {"name": "function deleteNote(id: string): void { deleteNote", "description": "Removes a note by id and updates storage.", "scope": "", "scopeKind": ""}, {"name": "function setSearch(q: string): void { setSearch", "description": "Sets the search query for filtering notes.", "scope": "", "scopeKind": ""}, {"name": "function setActiveTag(tag: string | null): void { setActiveTag", "description": "Sets or clears the active tag filter.", "scope": "", "scopeKind": ""}, {"name": "function clearFilters(): void { clearFilters", "description": "Clears both search and tag filters.", "scope": "", "scopeKind": ""}, {"name": "function setSortBy(s: SortBy): void { setSortBy", "description": "Updates the sorting preference and saves it.", "scope": "", "scopeKind": ""}, {"name": "function uid() { uid", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["localStorage.setItem", "localStorage.getItem", "JSON.stringify", "JSON.parse", "Array.isArray", "notes.value.splice", "notes.value.filter", "notes.value.unshift", "Date.now", "String.prototype.toLowerCase", "Array.prototype.some", "Array.prototype.sort"], "search-terms": ["notes store", "pinia", "Vue", "localStorage persistence", "note CRUD", "filtering notes", "sorting notes", "tag filtering", "search notes"], "state": 2, "file_id": 20, "knowledge_revision": 45, "git_revision": "", "ctags": [{"_type": "tag", "name": "DEFAULT_SORT", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^const DEFAULT_SORT: SortBy = (import.meta.env.VITE_DEFAULT_SORT as SortBy) || 'updated'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^const STORAGE_KEY = (import.meta.env.VITE_STORAGE_KEY as string) || 'notes_app_storage_v1'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SortBy", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^type SortBy = 'updated' | 'title'$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "allTags", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  const allTags = computed<string[]>(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "clearFilters", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  function clearFilters(): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  function createNote(): Note {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  function deleteNote(id: string): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    const existing = notes.value[idx]$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "filteredAndSortedNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  const filteredAndSortedNotes = computed<Note[]>(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    const existing = notes.value[idx]$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    const idx = notes.value.findIndex((n) => n.id === id)$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "newNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    const newNote: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    notes.value.splice(idx, 1, updated)$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    notes.value.unshift(newNote)$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    const now = Date.now()$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^      const parsed = JSON.parse(raw)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "setActiveTag", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  function setActiveTag(tag: string | null): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "setSearch", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  function setSearch(q: string): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "setSortBy", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  function setSortBy(s: SortBy): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "uid", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^function uid() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^  function updateNote(id: string, payload: Partial<Pick<Note, 'title' | 'content' | 'tags'>>): v/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "updated", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^    const updated: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "updatedAt", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^      updatedAt: Date.now(),$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "useNotesStore", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-163621-163656/notes_frontend/src/stores/notes.ts", "pattern": "/^export const useNotesStore = defineStore('notes', () => {$/", "language": "TypeScript", "kind": "constant"}], "hash": "a1030551b6aed84e88e04f5d99501b34", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/stores/notes.ts", "revision_history": [{"45": ""}]}